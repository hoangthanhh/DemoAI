

<!-- <!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>H·ªá th·ªëng H·ªó tr·ª£ L√°i xe Th√¥ng minh</title>
  <style>
    /* C√°c style ƒë·∫πp ƒë√£ d√πng */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0eafc, #cfdef3);
      padding: 40px;
      color: #333;
    }

    h1 {
      text-align: center;
      font-size: 36px;
      margin-bottom: 30px;
      color: #1a237e;
      text-shadow: 1px 1px 2px #aaa;
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-bottom: 30px;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      background-color: #1e88e5;
      color: #fff;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    button:hover {
      background-color: #1565c0;
      transform: translateY(-2px);
    }

    .section {
      display: none;
      background-color: #ffffffee;
      padding: 30px;
      margin: 0 auto;
      width: 90%;
      max-width: 900px;
      border-radius: 15px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    h2 {
      font-size: 26px;
      color: #0d47a1;
      margin-bottom: 10px;
    }

    p {
      font-size: 18px;
      line-height: 1.6;
    }

    #video-container {
      text-align: center;
      margin-top: 20px;
    }

    #video-feed {
      width: 100%;
      max-width: 700px;
      border-radius: 10px;
      border: 4px solid #1e88e5;
    }

    #warning-text {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
      color: red;
    }
  </style>
</head>
<body>

  <h1>üöò H·ªá th·ªëng H·ªó tr·ª£ L√°i xe Th√¥ng minh</h1>

  <div class="button-container">
    <button onclick="showSection('driver')">üë§ Gi√°m s√°t t√†i x·∫ø</button>
    <button onclick="showSection('sign')">üöß C·∫£nh b√°o bi·ªÉn b√°o</button>
    <button onclick="showSection('traffic')">üöó L∆∞u l∆∞·ª£ng giao th√¥ng</button>
  </div>

  <div id="driver" class="section">
    <h2>üë§ Gi√°m s√°t t√†i x·∫ø</h2>
    <p>H·ªá th·ªëng s·ª≠ d·ª•ng camera ƒë·ªÉ gi√°m s√°t t√¨nh tr·∫°ng bu·ªìn ng·ªß, ng√°p, kh√¥ng th·∫Øt d√¢y an to√†n, s·ª≠ d·ª•ng ƒëi·ªán tho·∫°i...</p>
    <div id="video-container">
      <img id="video-feed" src="{{ url_for('video_feed') }}" alt="Camera gi√°m s√°t">
      <div id="warning-text">ƒêang t·∫£i c·∫£nh b√°o...</div>
    </div>
  </div>

  <div id="sign" class="section">
    <h2>üöß C·∫£nh b√°o bi·ªÉn b√°o giao th√¥ng</h2>
    <p>Nh·∫≠n di·ªán bi·ªÉn b√°o nh∆∞ t·ªëc ƒë·ªô, c·∫•m r·∫Ω... t·ª´ h√¨nh ·∫£nh ph√≠a tr∆∞·ªõc xe ƒë·ªÉ c·∫£nh b√°o k·ªãp th·ªùi.</p>
  </div>

  <div id="traffic" class="section">
    <h2>üöó Ph√¢n t√≠ch l∆∞u l∆∞·ª£ng giao th√¥ng</h2>
    <p>Ph√¢n t√≠ch s·ªë l∆∞·ª£ng xe c·ªô tr√™n m·ªôt ƒëo·∫°n ƒë∆∞·ªùng ƒë·ªÉ c·∫£nh b√°o k·∫πt xe, ƒë√¥ng ƒë√∫c...</p>
  </div>

  <script>
    function showSection(sectionId) {
      const sections = document.querySelectorAll('.section');
      sections.forEach(sec => sec.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }


    // C·∫≠p nh·∫≠t c·∫£nh b√°o m·ªói 1 gi√¢y
   let warningInterval = null;

    function startMonitoring() {
      const video = document.getElementById("video-feed");
      video.src = "/video_feed";
      video.style.display = "block";

      if (!warningInterval) {
        warningInterval = setInterval(() => {
          fetch('/get_warning')
            .then(response => response.text())
            .then(data => {
              document.getElementById("warning").innerText = data || "Kh√¥ng c√≥ c·∫£nh b√°o";
            });
        }, 1000);
      }
    }

    function stopMonitoring() {
      const video = document.getElementById("video-feed");
      video.src = "";
      video.style.display = "none";

      document.getElementById("warning").innerText = "ƒê√£ d·ª´ng gi√°m s√°t";

      if (warningInterval) {
        clearInterval(warningInterval);
        warningInterval = null;
      }
    }
  </script>

</body>
</html> -->

<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>H·ªá th·ªëng H·ªó tr·ª£ L√°i xe Th√¥ng minh</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(to right, #e0eafc, #cfdef3);
            padding: 40px;
            color: #333;
        }

        h1 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 30px;
            color: #1a237e;
            text-shadow: 1px 1px 2px #aaa;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #1e88e5;
            color: #fff;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: #1565c0;
            transform: translateY(-2px);
        }

        .section {
            display: none;
            background-color: #ffffffee;
            padding: 30px;
            margin: 0 auto;
            width: 90%;
            max-width: 900px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        h2 {
            font-size: 26px;
            color: #0d47a1;
            margin-bottom: 10px;
        }

        p {
            font-size: 18px;
            line-height: 1.6;
        }

        #video-container {
            text-align: center;
            margin-top: 20px;
        }

        #video-feed {
            width: 100%;
            max-width: 700px;
            border-radius: 10px;
            border: 4px solid #1e88e5;
            display: none;
        }

        #warning-text {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
            color: red;
            display: none;
        }

        #stop-button {
            margin-top: 20px;
            background-color: #e53935;
        }
    </style>
</head>

<body>

    <h1>üöò H·ªá th·ªëng H·ªó tr·ª£ L√°i xe Th√¥ng minh</h1>

    <div class="button-container">
        <button onclick="showSection('driver')">üë§ Gi√°m s√°t t√†i x·∫ø</button>
        <button onclick="showSection('sign')">üöß C·∫£nh b√°o bi·ªÉn b√°o</button>
        <button onclick="showSection('traffic')">üöó L∆∞u l∆∞·ª£ng giao th√¥ng</button>
    </div>

    <div id="driver" class="section">
        <h2>üë§ Gi√°m s√°t t√†i x·∫ø</h2>
        <p>H·ªá th·ªëng s·ª≠ d·ª•ng camera ƒë·ªÉ gi√°m s√°t t√¨nh tr·∫°ng bu·ªìn ng·ªß, ng√°p, kh√¥ng th·∫Øt d√¢y an to√†n, s·ª≠ d·ª•ng ƒëi·ªán tho·∫°i...
        </p>
        <div id="video-container">
            <img id="video-feed" src="" alt="Camera gi√°m s√°t">
            <div id="warning-text">Kh√¥ng c√≥ c·∫£nh b√°o</div>
            <button id="stop-button" onclick="stopMonitoring()">‚õî D·ª´ng gi√°m s√°t</button>
        </div>
    </div>

    <div id="sign" class="section">
        <h2>üöß C·∫£nh b√°o bi·ªÉn b√°o giao th√¥ng</h2>
        <p>Nh·∫≠n di·ªán bi·ªÉn b√°o nh∆∞ t·ªëc ƒë·ªô, c·∫•m r·∫Ω... t·ª´ h√¨nh ·∫£nh ph√≠a tr∆∞·ªõc xe ƒë·ªÉ c·∫£nh b√°o k·ªãp th·ªùi.</p>
    </div>

    <div id="traffic" class="section">
        <h2>üöó Ph√¢n t√≠ch l∆∞u l∆∞·ª£ng giao th√¥ng</h2>
        <p>Ph√¢n t√≠ch s·ªë l∆∞·ª£ng xe c·ªô tr√™n m·ªôt ƒëo·∫°n ƒë∆∞·ªùng ƒë·ªÉ c·∫£nh b√°o k·∫πt xe, ƒë√¥ng ƒë√∫c...</p>
    </div>

    <script>
        let warningInterval = null;

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(sec => sec.style.display = 'none');
            const section = document.getElementById(sectionId);
            section.style.display = 'block';

            if (sectionId === 'driver') {
                startMonitoring();
            } else {
                stopMonitoring();
            }
        }

        function startMonitoring() {
            const video = document.getElementById("video-feed");
            const warningText = document.getElementById("warning-text");

            video.src = "/video_feed";
            video.style.display = "block";
            warningText.style.display = "block";

            if (!warningInterval) {
                warningInterval = setInterval(() => {
                    fetch('/get_warning')
                        .then(response => response.text())
                        .then(data => {
                            warningText.innerText = data || "Kh√¥ng c√≥ c·∫£nh b√°o";
                        });
                }, 1000);
            }
        }

        function stopMonitoring() {
            document.getElementById("driver").style.display = "none";
            const video = document.getElementById("video-feed");
            const warningText = document.getElementById("warning-text");

            fetch('/stop_camera');

            video.src = "";
            video.style.display = "none";
            warningText.innerText = "";
            warningText.style.display = "none";

            if (warningInterval) {
                clearInterval(warningInterval);
                warningInterval = null;
            }
        }

       Btn.style.display = "inline-block";

    </script>

</body>

</html>